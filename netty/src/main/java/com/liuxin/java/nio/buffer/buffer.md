**note:buffer并不是线程安全的,多线程应该在适当的位置进行同步**

